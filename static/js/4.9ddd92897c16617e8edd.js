webpackJsonp([4],{"3R3m":function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.login-container[data-v-5cbeced1] {\n  position: fixed;\n  height: 100%;\n  width: 100%;\n  background-color: #2d3a4b;\n}\n.login-container .login-form[data-v-5cbeced1] {\n    position: absolute;\n    left: 0;\n    right: 0;\n    width: 520px;\n    padding: 35px 35px 15px 35px;\n    margin: 120px auto;\n}\n.login-container .login-form .el-input[data-v-5cbeced1] {\n      display: inline-block;\n      height: 47px;\n      width: 85%;\n}\n.login-container .login-form .el-input input[data-v-5cbeced1] {\n        background: transparent;\n        border: 0px;\n        -webkit-appearance: none;\n        border-radius: 0px;\n        padding: 12px 5px 12px 15px;\n        color: #eee;\n        height: 47px;\n}\n.login-container .login-form .el-input input[data-v-5cbeced1]:-webkit-autofill {\n          -webkit-box-shadow: 0 0 0px 1000px #2d3a4b inset !important;\n          -webkit-text-fill-color: #fff !important;\n}\n.login-container .login-form .el-form-item[data-v-5cbeced1] {\n      border: 1px solid rgba(25, 255, 255, 0.1);\n      background: #fff;\n      border-radius: 5px;\n      color: #454545;\n}\n.login-container .tips[data-v-5cbeced1] {\n    font-size: 14px;\n    color: #fff;\n    margin-bottom: 10px;\n}\n.login-container .tips span[data-v-5cbeced1]:first-of-type {\n      margin-right: 16px;\n}\n.login-container .svg-container[data-v-5cbeced1] {\n    padding: 6px 5px 6px 15px;\n    color: #889aa4;\n    vertical-align: middle;\n    width: 30px;\n    display: inline-block;\n}\n.login-container .svg-container_login[data-v-5cbeced1] {\n      font-size: 20px;\n}\n.login-container .title-container[data-v-5cbeced1] {\n    position: relative;\n}\n.login-container .title-container .title[data-v-5cbeced1] {\n      font-size: 26px;\n      font-weight: 400;\n      color: #eee;\n      margin: 0px auto 40px auto;\n      text-align: center;\n      font-weight: bold;\n}\n.login-container .title-container .set-language[data-v-5cbeced1] {\n      color: #fff;\n      position: absolute;\n      top: 5px;\n      right: 0px;\n}\n.login-container .show-pwd[data-v-5cbeced1] {\n    position: absolute;\n    right: 10px;\n    top: 7px;\n    font-size: 16px;\n    color: #889aa4;\n    cursor: pointer;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none;\n}\n.login-container .thirdparty-button[data-v-5cbeced1] {\n    position: absolute;\n    right: 35px;\n    bottom: 28px;\n}\n",""])},K9Mz:function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"/* reset element-ui css */\n.login-form .el-input__inner {\n  border: none !important;\n}\n",""])},"T+/8":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("wAeJ"),i=n("STSY"),a={components:{LangSelect:o.a},name:"login",data:function(){var e=this;return{loginForm:{username:"superAdmin",password:"test1234"},loginRules:{username:[{required:!0,trigger:"blur",validator:function(t,n,o){n.trim().length>=2?o():o(new Error(e.$t("tips.error_login_username")))}}],password:[{required:!0,trigger:"blur",validator:function(t,n,o){n.length<6?o(new Error(e.$t("tips.error_login_password"))):o()}}]},passwordType:"password",loading:!1,showDialog:!1,dialogFormVisible:!1,dialogStatus:"",editForm:{username:"",password:""},editFormRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],company_bu:[{required:!0,message:"请输入单位主管",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],company_name:[{required:!0,message:"请输入单位名称",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],company_position:[{required:!0,message:"请输入单位经纬度",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],company_addr:[{required:!0,message:"请输入地址",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:5,max:10,message:"长度在 5 到 10 个字符",trigger:"blur"}],roleId:[{required:!0,message:"请选择角色",trigger:"blur"}],company_status:[{required:!0,message:"请选择单位状态",trigger:"blur"}]},editRolesOptions:[],statusOptions:[0,1,2],fileList:[]}},created:function(){this.getRoleList()},methods:{showPwd:function(){"password"===this.passwordType?this.passwordType="":this.passwordType="password"},getRoleList:function(){var e=this;Object(i.a)().then(function(t){e.editRolesOptions=t.data})},formCancel:function(e){this.dialogFormVisible=!1},formCreate:function(){this.$router.push({path:"/user"})},handleLogin:function(){var e=this;this.$refs.loginForm.validate(function(t){if(!t)return console.log("error submit!!"),!1;e.loading=!0,e.$store.dispatch("LoginByUsername",e.loginForm).then(function(){e.loading=!1,e.$router.push({path:"/"})}).catch(function(){e.loading=!1})})},formReset:function(){this.editForm={username:"",password:"",statu:"",roleId:""}},handleAdd:function(){this.formReset(),this.dialogStatus="create",this.dialogFormVisible=!0},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},handleExceed:function(e,t){this.$message.warning("当前限制选择 3 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+(e.length+t.length)+" 个文件")},beforeRemove:function(e,t){return this.$confirm("确定移除 "+e.name+"？")}},filters:{statusFilter:function(e){return{0:"筹备",1:"在建",2:"停止"}[e]}}},r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-container"},[n("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{autocomplete:"on",model:e.loginForm,rules:e.loginRules,"label-position":"left"}},[n("div",{staticClass:"title-container"},[n("h3",{staticClass:"title"},[e._v(e._s(e.$t("login.title")))]),e._v(" "),n("lang-select",{staticClass:"set-language"})],1),e._v(" "),n("el-form-item",{attrs:{prop:"username"}},[n("span",{staticClass:"svg-container svg-container_login"},[n("svg-icon",{attrs:{"icon-class":"user"}})],1),e._v(" "),n("el-input",{attrs:{name:"username",type:"text",autocomplete:"on",placeholder:e.$t("login.username")},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"password"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"password"}})],1),e._v(" "),n("el-input",{attrs:{name:"password",type:e.passwordType,autocomplete:"on",placeholder:e.$t("login.password")},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),e._v(" "),n("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[n("svg-icon",{attrs:{"icon-class":"eye"}})],1)],1),e._v(" "),n("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{type:"primary",loading:e.loading},nativeOn:{click:function(t){t.preventDefault(),e.handleLogin(t)}}},[e._v(e._s(e.$t("login.logIn")))]),e._v(" "),n("el-button",{staticStyle:{width:"100%","margin-bottom":"30px","margin-left":"0"},attrs:{type:"defaults",loading:e.loading},nativeOn:{click:function(t){t.preventDefault(),e.handleAdd(t)}}},[e._v(e._s(e.$t("login.resIn")))])],1),e._v(" "),n("el-dialog",{staticClass:"register",attrs:{title:"用户注册",visible:e.dialogFormVisible,width:"40%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[n("el-form",{ref:"editForm",attrs:{model:e.editForm,rules:e.editFormRules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"用户名",prop:"username"}},[n("el-input",{attrs:{placeholder:"请输用户名"},model:{value:e.editForm.username,callback:function(t){e.$set(e.editForm,"username",t)},expression:"editForm.username"}})],1),e._v(" "),"create"==e.dialogStatus?n("el-form-item",{attrs:{label:"密码",prop:"password"}},[n("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.editForm.password,callback:function(t){e.$set(e.editForm,"password",t)},expression:"editForm.password"}})],1):e._e(),e._v(" "),n("el-form-item",{attrs:{label:"单位名称",prop:"company_name"}},[n("el-input",{attrs:{placeholder:"请输单位名称"},model:{value:e.editForm.company_name,callback:function(t){e.$set(e.editForm,"company_name",t)},expression:"editForm.company_name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"单位主管",prop:"company_bu"}},[n("el-input",{attrs:{placeholder:"请输单位主管"},model:{value:e.editForm.company_bu,callback:function(t){e.$set(e.editForm,"company_bu",t)},expression:"editForm.company_bu"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"单位地址",prop:"company_addr"}},[n("el-input",{attrs:{placeholder:"请输单位地址"},model:{value:e.editForm.company_addr,callback:function(t){e.$set(e.editForm,"company_addr",t)},expression:"editForm.company_addr"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"单位经纬度",prop:"company_position"}},[n("el-input",{attrs:{placeholder:"请输单位经纬度"},model:{value:e.editForm.company_position,callback:function(t){e.$set(e.editForm,"company_position",t)},expression:"editForm.company_position"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"角色",prop:"roleId"}},[n("el-select",{staticClass:"filter-item",staticStyle:{width:"250px"},attrs:{placeholder:"请选择角色"},model:{value:e.editForm.roleId,callback:function(t){e.$set(e.editForm,"roleId",t)},expression:"editForm.roleId"}},e._l(e.editRolesOptions,function(t){return n("el-option",{key:t.roleId,attrs:{label:t.roleDesc,value:t.roleId,disabled:!1}},[n("span",{staticStyle:{float:"left"}},[e._v(e._s(t.roleDesc))]),e._v(" "),n("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v("\n              "+e._s(t.roleCode)+"\n            ")])])}))],1),e._v(" "),n("el-form-item",{attrs:{label:"单位状态",prop:"company_status"}},[n("el-select",{staticClass:"filter-item",staticStyle:{width:"250px"},attrs:{placeholder:"请选择单位状态",clearable:"",filterable:""},model:{value:e.editForm.company_status,callback:function(t){e.$set(e.editForm,"company_status",t)},expression:"editForm.company_status"}},e._l(e.statusOptions,function(t,o){return n("el-option",{key:o,attrs:{label:e._f("statusFilter")(t),value:t}})}))],1),e._v(" "),n("el-form-item",{attrs:{label:"附件上传",prop:"file"}},[n("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,multiple:"",limit:3,"on-exceed":e.handleExceed,"file-list":e.fileList}},[n("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),e._v(" "),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("文件大小不超过10M")])],1)],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.formCancel("editForm")}}},[e._v("取 消")]),e._v(" "),"create"==e.dialogStatus?n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleLogin()}}},[e._v("确 定")]):e._e()],1)],1)],1)},staticRenderFns:[]};var s=n("VU/8")(a,r,!1,function(e){n("aBSt"),n("sZRp")},"data-v-5cbeced1",null);t.default=s.exports},aBSt:function(e,t,n){var o=n("K9Mz");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n("rjj0")("4709829c",o,!0)},sZRp:function(e,t,n){var o=n("3R3m");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n("rjj0")("4c0b41fc",o,!0)}});